# 摘要

旅行时间的概念对于通勤者来说是一个简单而必要的信息，智能交通管理允许在时间和空间上减少拥堵。 在此背景下，本文重点研究了高速公路交通以**流量**、**强度**和**速度**等几个宏观变量为特征的路线时间估计问题。 我们提出了一个**基于动态贝叶斯网络 (DBN) 的概率模型**，它可以帮助我们组合这些变量。 该模型代表了一种分析流量以获得随时间演变的知识模型的技术。 在给定交通状况的情况下，我们估计、预测和监控旅行时间。 旅行时间是一个不可直接观察的元素，因此我们使用隐马尔可夫模型（HMM）技术来确保在不同交通情况下的旅行时间预测，特别是在道路交通有限的关键情况下。

# 1. 引言

行程时间的估计是道路信息领域的一个重要问题，尤其是在道路饱和或拥堵的情况下。对交通的了解和预测有助于我们利用网络运营，提高交通用户的服务质量，例如提供交通状态的动态信息（是否下雨？能见度是否足够清晰？是否有（事故、事件）？这些都是关于自动转向和动态转向的重要信息。计算机化决策支持系统的开发和实施已成为所有道路交通研究人员和管理人员关注的主要问题。系统的建立能够处理数据并向交通管理人员提供高级功能。该系统允许用户做出适当的决定并分发这些信息。

我们的目标是根据交通状态估计和预测出行时间，我们基于贝叶斯网络建立了一个概率模型，出行时间不可直接观察，它取决于交通状况，例如，如果交通正在流动，我们观察到快速路线时间指示，反之亦然。基于确定性模型的估计仍然非常困难，因此，我们使用基于**隐马尔可夫模型或HMM概念的概率模型来预测、过滤和平滑给定交通状况下的行程时间**。

# 2. 文献综述

行程时间的估算是一个活跃的领域，出现了几种技术，一些研究人员通过固定传感器估算了行程时间，其他的则是通过车辆追踪者的路线所经历的时间。磁环传感器被引入交通领域，这些传感器是交通分析中使用最多的[1,2]。这些数据几乎是完整的，因为它们考虑了道路网络中行驶的所有车辆。有两种方法：确定性方法和随机方法：

**确定性方法**：确定性建模被定义为随时间变化的函数，他解释了我们提到的确定性数学模型，例如Nam和Drew[3]的方法、Oh等人[4]的方法、Bonvalet和Robin BRP[5]的方法以及Buisson和Lessort[6]的方法。所有这些模型都被用作估计行程时间的指标。但是，它们在检测和计数时受到测量风险的影响。

**随机方法**：某些随机波动量通常是随机过程的反映。在文献中，有几种方法使用来自固定传感器的数据，Rice和Van Zwet[7]观察到未来行程时间和当前行程时间之间的线性回归。方法Hamed[8]和Davis and al[9]基于对交通参数预测的时间序列Arima1的分析，并使用Dailey和Hage[10,11]的方法通过滤波方法估计行程时间，例如卡尔曼滤波方法。这种方法的缺点是需要找到大量的车辆试验来估计行程时间，这种方法基于每次服务的估计行程时间（分段）和一个时间间隔进行初步研究。

在本文中，我们将尝试从HMM中估计高速公路中的行程时间，我们选择了一个交通条件，这样我们可以估计行程时间，交通条件依赖于几个变量，因此DBN用于管理不确定性，并设置最佳的知识模型。我们拥有的数据是时间和多维的，要做出的决定取决于当前的流量状态，因此我们**使用动态DBN作为时间知识模型的分析技术**。

我们的工作涉及三个部分：

- 第3节：我们定义了贝叶斯网络技术来结合道路交通的不同宏观变量。

- 第4节：这些变量是时间和多维的；我们使用动态贝叶斯网络技术来收集这些数据，并通过模拟器做出正确的决策。
- 第5节：我们定义了隐马尔可夫模型和这些使用不同的动态规划算法建立马尔可夫模型。

# 3. 贝叶斯网


图形模式是节点和圆弧的概率分布族。**节点通常表示随机变量，圆弧表示变量之间的依赖关系**。BN是概率论和图论的结合，贝叶斯模型的使用使我们能够预测、控制、模拟观察到的行为，诊断原因并做出适当的决定。此外，应用领域与对智能交通有兴趣的观察者非常相似，他们对适当的决策感兴趣。系统（ITS），多样性；我们包括一个应用程序，该应用程序根据运动数据的不确定状态确定速度和浮动，这些数据通常来自传感器。传感器提供有关环境的信息，例如车辆的速度和强度；我们将这些信息与交通管理结合起来，并了解真实的道路状况。

## 3.1 基本概念

贝叶斯网络$\beta=\{G,P\}$是由一个有向图、一个概率空间和一组随机变量定义的。图$G=(X,E)$是一个电路，$(X)$表示所有节点或顶点，$(E)$是弧的集合。概率空间是$P=(\Omega,p)$和$\Omega$是整个概率$p$代表所有的随机变量：$X=\{x_1,x_2,...,x_n\}$，例如：
$$
p(x_1,x_2,...,x_n)=\prod\limits^n_{i=1}p(x_i/Pa(x_i))
$$
其中，$Pa(x_i)$是图$G$中所有父节点$X_i$的集合。

## 3.2 贝叶斯网络的建立

正如我们在前面的定义中看到的，BN的完整规范需要指定一方面，即**结构（有向无环图）**，其次是参数。一个弧的延伸可以用另一个弧的影响来分析。解释如何处理BN申请。我们定义了在程序中使用的一些随机变量：

- 能见度：也就是说视野开阔还是看不见
- 事件：发生意外事件的可能性，该事件会阻止车辆或事件或其他事件的移动
- 天气条件：了解沿途的气象条件（天气和/或潮湿）

- 密度（Q）：基于周期的持续时间时间，在$x$点处经过周期$\Delta T$的车辆数量$N$，表示为
- 在周期$\Delta T$点$x$上经过汽车的数量$N$，基于持续的周期时间，$Q=N/\Delta T$，表示为$(veh/h \ or \ veh/s)$
- 强度（K）：也可以称为在时刻$t$内$x$与$x+\Delta x$之间汽车的数量的强度，基于轨迹长度，$K=N/\Delta X$，表示为$(veh/km \ or \ veh /m)$

它们是来自传感器的数据，有两种类型的信息，静态数据（数据是从安装在道路上的传感器中提取的，如磁环）和动态数据（监控摄像头）。交通管理是智能交通系统（ITS）的应用，它允许实时采取主动措施，并将各种信息合并在多个范围内传输（消息等）。为了进一步解释和澄清我们提出的概率模型“道路交通管理”，我们需要其他随机变量：
- 循环状态：它决定了循环的当前状态，是通过好的或坏的循环条件流动的。
- 交通流（TF）：它确定交通流，在给定路线长度上，时间$t$时的平均车辆速度是多少。

三个随机变量（能见度、事件、天气状况）估计了循环状态的概率。密度和强度估计了交通流的概率，三个变量（W、Q和K）是原因节点，循环状态和交通流是影响的变量。例如，我所掌握的知识（可见性、事件、天气状况）决定了交通状态的知识。
##### 图1
BN是通过突出显示某些节点来使用的，我们计算了所有未知节点的概率，这个过程被称为概率推理。BN的主要用途是计算给定后验观察事件的概率，例如循环状态的概率计算如下：
$$p(C/E,V,W)=\frac{c(C,E,V,W)}{p(E,V,W)}$$

这种方法对于变量众多的BN来说不是很方便【12】，可以利用条件独立性来简化计算，而且BN有许多概率算法，更多细节可以在【13】中找到。

为了建立一个完整的BN和道路交通管理，出现了两个随机变量：

- 交通状况（TS）：此和确定当前交通状况的变量，有4个位置{英尺、重、阻塞、饱和}

- 个体速度（S_IND）：S_IND采用了解循环状态和流速的方法。它是一个变量，用于确定授权的流量速度。它分为4个间隔{[0-50]、[50-70]、[70-90]和[90-110]; km/h}。
下图显示了道路交通的BN示例
管理。
##### 图2
# 3. 学习设置
参数学习是假设网络结构是固定的，因此我们可以确定每个变量的条件概率，当所有变量都被观察和离散时。估计参数最常用的方法是统计估计数据库中事件的概率，这种方法是调用最大似然【14】，还有其他方法被称为最大后验MAP和经历后验EAP [15]，这两种方法的目的是改进统计估计。在数据不完整的情况下，有几种算法可以估计数据库中缺失的数据，使用最广泛的方法是EM [16]算法，它是Dempster开发的迭代算法，首先，我们将参数初始化为零，并从当前设置中估计缺失值，然后计算BN及其推断中的p（X缺失/测量的X），对于构建概率表，一个数据库包含道路交通的100个观测值（下图3），我们还使用EM算法计算和估计所有缺失的信息，并确定了我们模型的所有概率条件。
##### 图3

# 4. 动态贝叶斯网络
动态贝叶斯网络（DBN）是静态BN的扩展，用于表示随机变量根据离散序列的演变。术语动态仅以系统为特征，而不是不随时间变化的网络。DBN扩展了BN动态过程的表示，它包含变量$$X[t]=X_1[t],...,X_n[t]$$的$$T$$个随机向量。

$$X[t]=X_1[t],...,X_n[t]=\prod\limits^T_{i=1}\prod\limits^n_{i=1}p(X_i[t]/Pa(X_i[t]))$$

环境时间动力学模型是一部分时间到另一部分时间的过渡，它们通过弧连接。该原理是基于平稳原理，即重复DBN的结构和参数，JPD由初始状态和传输状态编码。
$$P(X_1[t],...,X_n[t])=P_1(X_1[t])\prod\limits^{T-1}_{t=2}P->(X_i[t]/X_i[t-1])$$

我们的DBN的目标是通过计算过去和一段时间内给定观测（循环状态、交通流量）的未来事件（C_预期，F_预期）的概率来预测授权的交通速度和交通状况。因此，利用DBN的作用来预测近期流量指标向t+1、t+2、t+h的演变。其中h是地平线的预测。

下图说明了具有3个时间实例$$(t-1,t,t+1)$$的DBN的构造。

##### 图4
DBN代表了一个决策支持的工具，它可以根据可用的知识计算状态的概率，我们使用软件Hugin[17]作为一个直观的图形界面来模拟动态情况，该软件为收缩SS提供了一组工具基于以不确定性为特征的模型。
##### 表1

动态模拟结果表明，交通状态已经改变了它们的行为，它在时间（t,t+1）花费了饱和状态（t-1）到阻塞状态，即，道路交通尝试了道路拥堵状态，这一发现是合理的，速度和交通流量随着时间的推移变得疲软。

根据这一结果，我们试图继续了解交通的不同情况的旅行时间，因此，我们使用了基于隐马尔可夫模型的概率模型，对给定交通情况的旅行时间进行预测、过滤和平滑。
