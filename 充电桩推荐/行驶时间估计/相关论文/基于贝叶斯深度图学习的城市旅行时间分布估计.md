基于贝叶斯深度图学习的城市旅行时间分布估计
---

# 3. 方法论
为了克服上述挑战，在本工作中，我们提出了一个新的解决方案，用于估计全市道路旅行时间分布，名为DeepTTDE。该解决方案的灵感来自贝叶斯深度学习、图卷积和对抗生成模型的最新研究和进展。它试图将两者的优点结合起来，以应对TTDE以前的所有挑战。在本节中，我们首先概述了拟议的DeepTTDE，然后详细说明了其组成组件。最后，我们讨论了独特的DeepTTDE训练和推理方案。

## 3.1 系统模型
图2显示了提出的DeepTTDE的一般框架。三个主要模块合作导出旅行时间分布，即地图匹配和旅行时间建模、旅行时间分布估计器和对抗训练模型。给定GPS轨迹的集合，我们首先将原始地理坐标转换为图G上的路径，通过该路径计算每个轨迹的链路旅行时间是微不足道的。随后，利用轨迹链路旅行时间数据，通过独特的旅行时间建模算法构建多个旅行时间图。每个旅行时间地图都是来自整个城市潜在旅行时间分布的单个样本，我们采用贝叶斯图自动编码器来类似这些样本的分布。最后，引入了一个辅助对抗训练神经网络，以辅助前一个图自动编码器的参数训练，从而提高估计分布的准确性。

在深入探讨组成DeepTTDE的每个模块的细节之前，我们首先解释所使用技术背后的原理，特别是贝叶斯图自动编码器结构。所有模块都是围绕旅行时间分布估计器的要求设计的。虽然基于深度学习的技术在解决大量问题方面表现出了最先进的性能，但它们通常受到一系列限制，包括在不确定性学习方面的薄弱、非欧几里德表示、并且很容易被对抗样本[17], [35]破坏。人们可能会发现，第2.2节中引入的TTDE的主要挑战与一般深度学习技术的上述限制明显重叠。

DeepTTDE通过采用贝叶斯深度学习、几何深度学习和对抗性机器学习的设计原则来解决挑战和局限性。贝叶斯深度学习能够解释认识不确定性和自由不确定性，这两种不确定性在交通数据中都很普遍[17], [36]。特别是，该模型在每个神经网络参数上放置先验分布，然后可以通过贝叶斯推理近似后验分布。因此，模型不确定性通过参数分布的形状捕获，输入数据中的统计不确定性反映在后验中。其次，几何深度学习使DeepTTDE能够在计算过程中有效地表示图结构，减轻了试图从未明确显示道路连通性的交通数据中提取拓扑信息的深度学习模型所带来的巨大计算负担[35]。第三，贝叶斯模型本质上是概率性的，它使一般深度学习模型能够表示不确定性和推断分布，这完美地满足了TTDE关于估计概率分布的要求[36]。利用条件概率作为神经网络参数，贝叶斯模型通过采样这些参数来估计分布，而不是添加输出噪声或设置多个输入场景。

## 3.2 地图匹配与旅行时间建模
在DeepTTDE中，地图匹配和旅行时间建模的主要目标是为后续旅行时间分布估计器提取潜在信息提供足够的旅行时间地图。顾名思义，它有两个主要步骤。地图匹配的目的是将GPS轨迹投影到道路网上。由于这个问题已经被广泛研究[37]–[39]，我们采用了一种基于交互式投票的算法实现【37】来在DeepTTDE中执行地图匹配。这也是相关研究中广泛采用的方式，一些例子见[4], [7]。

在开发地图匹配路径后，旅行时间建模尝试计算路径中每个链路的旅行时间。这可以通过假设车辆在连续轨迹点之间遵循恒定速度【4】来实现。具体来说，对于具有$$k$$个GPS位置的任意轨迹，让第一个轨迹点的映射位置为$$p_1$$，最后一个轨迹点的映射位置为$$p_k$$。如果连续位置$$p_i$$和$$p_{i+1}$$都在同一链路上，则它们之间的采样时间差，用$$\Delta_{i\rightarrow i+1}$$表示，将累加到相应链路的旅行时间。否则，起始路段的行程时间增加$$\frac{d_{i\rightarrow i+1}}{d_{i\rightarrow i+1}+d_{i+1\rightarrow i}}\Delta_{i\rightarrow i+1}$$，剩余时间增加到目的道路的行程时间，其中$$d_{i+1\rightarrow i}$$和$$d_{i\rightarrow i+1}$$是从$$p_i$$和$$p_{i+1}$$到两个链接的交叉点的距离。

